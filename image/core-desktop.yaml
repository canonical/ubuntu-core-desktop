name: ubuntu-core-desktop-amd64
display-name: Ubuntu Core Desktop amd64
revision: 1
architecture: amd64
series: mantic
class: preinstalled
kernel: linux-image-generic
gadget:
  url: "https://git.launchpad.net/~canonical-foundations/snap-pc/+git/github-mirror-amd64"
  branch: classic
  type: "git"
rootfs:
  components:
    - main
    - restricted
  seed:
    urls:
      - "git://git.launchpad.net/~ubuntu-core-dev/ubuntu-seeds/+git/"
    branch: mantic
    names:
      - minimal
customization:
  cloud-init:
    user-data: |
      #cloud-config
      chpasswd:
        expire: false
        users:
          - name: ubuntu
            password: ubuntu
            type: text
    meta-data: |
      #cloud-config
      dsmode: disabled
      instance_id: ubuntu-core-desktop
  extra-packages:
    - name: plymouth-theme-spinner
    - name: squashfs-tools
    - name: snapd
    - name: cloud-init
  extra-snaps:
    - name: ubuntu-core-desktop-installer
    - name: core22
    - name: snapd
  manual:
    make-dirs:
      - path: /cdrom/casper
        permissions: 644
    copy-file:
      - source: install-sources.yaml
        destination: /cdrom/casper/install-sources.yaml
      - source: autoinstall.yaml
        destination: /autoinstall.yaml
      - source: ../pc.img.xz
        destination: /cdrom/casper/pc.img.xz
artifacts:
  img:
    -
      name: ubuntu-core-desktop-22-amd64.img
  manifest:
    name: "filesystem-manifest.txt"
